<!DOCTYPE html>
	<head>
		<meta http-equiv="Content-Type" content="text/html" charset="utf-8"/>
		<title>Aerobike</title>
		<link rel="stylesheet" href="styles.css">
		<script src="js/raphael.min.js"></script>
		<script src="js/three.min.js"></script>
		<script src="js/OrbitControls.js"></script>
		<script src="js/CSS3DRenderer.js"></script>
		<script src="js/Projector.js"></script>
		<script src="js/SceneLoader.js"></script>
		<script src="js/MorphAnimMesh.js"></script>
		<script src="js/ColladaAnimation.js"></script>
		<script src="js/ColladaAnimationHandler.js"></script>
		<script src="js/ColladaKeyFrameAnimation.js"></script>
		<script src="js/ColladaLoader.js"></script>
		<script src="js/ShaderTerrain.js"></script>
		<script src="js/NormalMapShader.js"></script>
		<script src="js/utils.js"></script>
		<script src="js/models.js"></script>
		<!--<script src="js/SymetricPlaneGeometry.js"></script>-->
	</head>
	<body>
		<!--Shaders-->
		<script id="fragmentShaderNoise" type="x-shader/x-fragment">
			//
			// Description : Array and textureless GLSL 3D simplex noise function.
			//      Author : Ian McEwan, Ashima Arts.
			//  Maintainer : ijm
			//     Lastmod : 20110409 (stegu)
			//     License : Copyright (C) 2011 Ashima Arts. All rights reserved.
			//               Distributed under the MIT License. See LICENSE file.
			//
			uniform float time;
			varying vec2 vUv;
			vec4 permute(vec4 x) {
				return mod(((x * 34.0) + 1.0) * x, 289.0);
			}
			vec4 taylorInvSqrt(vec4 r) {
				return 1.79284291400159 - 0.85373472095314 * r;
			}
			float snoise(vec3 v) {
				const vec2 C = vec2(1.0 / 6.0, 1.0 / 3.0);
				const vec4 D = vec4(0.0, 0.5, 1.0, 2.0);
				// First corner
				vec3 i  = floor(v + dot(v, C.yyy));
				vec3 x0 = v - i + dot(i, C.xxx);
				// Other corners
				vec3 g = step(x0.yzx, x0.xyz);
				vec3 l = 1.0 - g;
				vec3 i1 = min(g.xyz, l.zxy);
				vec3 i2 = max(g.xyz, l.zxy);
				vec3 x1 = x0 - i1 + 1.0 * C.xxx;
				vec3 x2 = x0 - i2 + 2.0 * C.xxx;
				vec3 x3 = x0 - 1. + 3.0 * C.xxx;
				// Permutations
				i = mod(i, 289.0);
				vec4 p = permute(permute(permute(
						 i.z + vec4(0.0, i1.z, i2.z, 1.0))
					   + i.y + vec4(0.0, i1.y, i2.y, 1.0))
					   + i.x + vec4(0.0, i1.x, i2.x, 1.0));
				// Gradients
				// ( N*N points uniformly over a square, mapped onto an octahedron.)
				float n_ = 1.0 / 7.0; // N=7
				vec3 ns = n_ * D.wyz - D.xzx;
				vec4 j = p - 49.0 * floor(p * ns.z * ns.z);  //  mod(p,N*N)
				vec4 x_ = floor(j * ns.z);
				vec4 y_ = floor(j - 7.0 * x_);    // mod(j,N)
				vec4 x = x_ *ns.x + ns.yyyy;
				vec4 y = y_ *ns.x + ns.yyyy;
				vec4 h = 1.0 - abs(x) - abs(y);
				vec4 b0 = vec4(x.xy, y.xy);
				vec4 b1 = vec4(x.zw, y.zw);
				vec4 s0 = floor(b0) * 2.0 + 1.0;
				vec4 s1 = floor(b1) * 2.0 + 1.0;
				vec4 sh = -step(h, vec4(0.0));
				vec4 a0 = b0.xzyw + s0.xzyw * sh.xxyy;
				vec4 a1 = b1.xzyw + s1.xzyw * sh.zzww;
				vec3 p0 = vec3(a0.xy, h.x);
				vec3 p1 = vec3(a0.zw, h.y);
				vec3 p2 = vec3(a1.xy, h.z);
				vec3 p3 = vec3(a1.zw, h.w);
				// Normalise gradients
				vec4 norm = taylorInvSqrt(vec4(dot(p0, p0), dot(p1, p1), dot(p2, p2), dot(p3, p3)));
				p0 *= norm.x;
				p1 *= norm.y;
				p2 *= norm.z;
				p3 *= norm.w;
				// Mix final noise value
				vec4 m = max(0.6 - vec4(dot(x0, x0), dot(x1, x1), dot(x2, x2), dot(x3, x3)), 0.0);
				m = m * m;
				return 42.0 * dot(m*m, vec4(dot(p0, x0), dot(p1, x1), dot(p2, x2), dot(p3, x3)));
			}
			float surface3(vec3 coord) {
				float n = 0.0;
				n += 1.0 * abs(snoise(coord));
				n += 0.5 * abs(snoise(coord * 2.0));
				n += 0.25 * abs(snoise(coord * 4.0));
				n += 0.125 * abs(snoise(coord * 8.0));
				return n;
			}
			void main(void) {
				vec3 coord = vec3(vUv, -time);
				float n = surface3(coord);
				gl_FragColor = vec4(vec3(n, n, n), 1.0);
			}
		</script>

		<script id="vertexShader" type="x-shader/x-vertex">
			varying vec2 vUv;
			uniform vec2 scale;
			uniform vec2 offset;
			void main(void) {
				vUv = uv * scale + offset;
				gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
			}
		</script>

		<!-- Render -->
		<div id="scene_container"/>
		<!-- Progress -->
		<div id="progress" hidden>
			<div class="progress_bar" class="shadow">
				<div id="bar" class="shadow">
				</div>
			</div>
		</div>
		<!-- Start -->
		<div id="start_screen">
			<div id="start_image_box"></div>
			<div id="start_menu">
				<div class="garage_img_bt" id="start_garage_img_bt"></div>
				<div class="fast_game_img_bt" id="start_fast_game_img_bt"></div>
			</div>
		</div>
		<!-- Garage -->
		<div id="garage_screen" hidden>
			<div id="bike_info">
				<style>
					#bike_info {
						position: absolute;
						width: 60%;
					}
				</style>
			</div>
			<div id="prev_bike_box">
				<style>
					#prev_bike_box {
						position: absolute;
						top: 50%;
						right: 20%;
						text-align: center;
					}
				</style>
				<button id="prev_bike_btn">
					<img id="prev_bike_img" src="images/icons/prev_bike.png">
				</button>
			</div>
			<div id="next_bike_box">
				<style>
					#next_bike_box {
						position: absolute;
						top: 50%;
						left: 20%;
						text-align: center;
					}
				</style>
				<button id="next_bike_btn">
					<img id="next_bike_img" src="images/icons/next_bike.png">
				</button>
			</div>
			<div id="garage_menu">
				<button id="settings_btn">
					<img id="settings_img" src="images/icons/settings.png">
				</button>
				<button id="rating_btn">
					<img id="rating_img" src="images/icons/rating.png">
				</button>
				<button id="shop_btn">
					<img id="shop_img" src="images/icons/shop.png">
				</button>
				<button id="chooce_partner_btn">
					<img id="chooce_partner_img" src="images/icons/chooce_partner.png">
				</button>
				<div class="fast_game_img_bt" id="garage_fast_game_img_bt"></div>
				<button id="about_btn">
					<img id="about_img" src="images/icons/about.png">
				</button>
			</div>
		</div>
		<!-- Settings -->
		<div id="settings_screen" hidden>
			<div id="buttons_cfg_box">

			</div>
			<div id="intricacy_box">

			</div>
			<div id="settings_menu">
				<style>
					#settings_menu {
						position: absolute;
						bottom: 10%;
						width: 100%;
						text-align: center;
					}
				</style>
				<button id="return_settings_btn">
					<img id="return_settings_img" src="images/icons/return.png">
				</button>
			</div>
		</div>
		<!-- Rating -->
		<div id="rating_screen" hidden>
			<div id="rating_menu">
				<style>
					#rating_menu {
						position: absolute;
						bottom: 10%;
						width: 100%;
						text-align: center;
					}
				</style>
				<button id="return_rating_btn">
					<img id="return_rating_img" src="images/icons/return.png">
				</button>
			</div>
		</div>
		<!-- Shop -->
		<div id="shop_screen" hidden>
			<div id="shop_menu">
				<style>
					#shop_menu {
						position: absolute;
						bottom: 10%;
						width: 100%;
						text-align: center;
					}
				</style>
				<button id="return_shop_btn">
					<img id="return_shop_img" src="images/icons/return.png">
				</button>
			</div>
		</div>
		<!-- About -->
		<div id="about_screen" hidden>
			<div id="about_menu">
				<style>
					#about_menu {
						position: absolute;
						bottom: 10%;
						width: 100%;
						text-align: center;
					}
				</style>
				<button id="return_about_btn">
					<img id="return_about_img" src="images/icons/return.png">
				</button>
			</div>
		</div>
		<!-- Chooce partner -->
		<div id="chooce_partner_screen" hidden>
			<div id="chooce_partner_menu">
				<style>
					#chooce_partner_menu {
						position: absolute;
						bottom: 10%;
						width: 100%;
						text-align: center;
					}
				</style>
				<button id="find_partners_btn">
					<img id="find_partners_img" src="images/icons/find_partners.png">
				</button>
				<button id="game_btn">
					<img id="game_img" src="images/icons/game.png">
				</button>
				<button id="return_chooce_partner_btn">
					<img id="return_chooce_partner_img" src="images/icons/return.png">
				</button>
			</div>
		</div>
		<!-- Game -->
		<div id="game_screen" hidden>
			<div id="speedo_box"></div>
			<div id="jet_thrust_box"></div>
			<div id="racing_traffic_lights_box"></div>
			<!--<div id="game_menu">-->
				<!--<style>-->
					<!--#game_menu {-->
						<!--position: absolute;-->
						<!--bottom: 10%;-->
						<!--width: 100%;-->
						<!--text-align: center;-->
					<!--}-->
				<!--</style>-->
				<!--<button id="up_game_btn"><img id="up_game_img" src="images/icons/up.png"></button>-->
				<!--<button id="down_game_btn"><img id="down_game_img" src="images/icons/down.png"></button>-->
				<!--<button id="left_game_btn"><img id="left_game_img" src="images/icons/left.png"></button>-->
				<!--<button id="right_game_btn"><img id="right_game_img" src="images/icons/right.png"></button>-->
				<!--<div class="garage_img_bt" id="game_garage_img_bt"></div>-->
			<!--</div>-->
		</div>
		<script src="js/main.js"></script>
	</body>
</html>
